import React, { useEffect, useState } from 'react';
import api from '../api/api';
import Layout from '../components/Layout';
export default function PacienteDashboard(){ const [consultas, setConsultas] = useState([]); useEffect(()=>{ api.get('/consultas').then(res=>setConsultas(res.data)).catch(()=>{}); }, []); const agendar = async () => { try { const nova = { pacienteId: 1, profissionalId: 1, dataHora: new Date().toISOString(), status: 'Agendada' }; await api.post('/consultas', nova); const res = await api.get('/consultas'); setConsultas(res.data); } catch { alert('Erro ao agendar'); } }; return (<Layout><h2>Minhas Consultas</h2><button className="btn btn-primary" onClick={agendar}>Agendar Nova Consulta</button><div className="card" style={{marginTop:12}}><table className="table"><thead><tr><th>Profissional</th><th>Data</th><th>Status</th><th>Observações</th></tr></thead><tbody>{consultas.map(c=>(<tr key={c.id}><td>{c.cpf_Profissional}</td><td>{new Date(c.dataConsulta).toLocaleString()}</td><td>{c.status}</td><td>{c.observacoes}</td></tr>))}</tbody></table></div></Layout>); }